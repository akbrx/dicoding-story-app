<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Bagikan cerita dan lokasi Anda melalui Dicoding Story App." />
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#2D3748" />
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Dicoding Story App</title>
  </head>
  <body>
    <a class="skip-link" href="#main-content">Lewati ke Konten</a>
    <header class="app-bar">
      <div class="app-bar__container container">
        <div class="app-bar__left">
          <a href="#/" class="app-bar__brand">Story App</a>
        </div>
        <div class="app-bar__center" id="app-bar-clock">
          <span class="clock__time">--:--:--</span>
          <span class="clock__separator">|</span>
          <span class="clock__date">---</span>
        </div>
        <div class="app-bar__right">
          <button id="drawer-button" class="app-bar__menu" aria-label="Buka menu navigasi" aria-expanded="false" aria-controls="navigation-drawer">
            <i class="fas fa-bars"></i>
          </button>
          <nav id="navigation-drawer" class="app-bar__navigation">
            <ul id="nav-list" class="nav-list">
              <li><a href="#/">Beranda</a></li>
              <li class="nav-item--auth-required"><a href="#/stories/add">Tambah Cerita</a></li>
              <li><a href="#/offline">Tersimpan</a></li>
              <li id="auth-menu-container" class="auth-menu-container--desktop"></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>

    <nav id="mobile-drawer" class="mobile-drawer" aria-hidden="true">
      <button id="mobile-drawer-close" class="mobile-drawer__close" aria-label="Tutup menu navigasi">&times;</button>
      <ul id="mobile-nav-list" class="mobile-nav-list">
        <li><a href="#/">Beranda</a></li>
        <li class="nav-item--auth-required"><a href="#/stories/add">Tambah Cerita</a></li>
        <li><a href="#/offline">Tersimpan</a></li>
        <li id="mobile-auth-menu-container"></li>
      </ul>
    </nav>
    <div id="drawer-overlay" class="drawer-overlay" aria-hidden="true"></div>

    <main id="main-content" tabindex="-1"></main>

    <div id="notification-container" class="notification-container" aria-live="assertive"></div>
    <div id="image-modal" class="image-modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="image-modal-caption">
      <button class="image-modal__close" aria-label="Tutup Modal Gambar">&times;</button>
      <img src="" alt="" class="image-modal__image" />
      <p id="image-modal-caption" class="image-modal__caption"></p>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
    <script>
      // Tahun pada footer (jika ada elemen dengan id 'footer-year')
      const yearElem = document.getElementById('footer-year');
      if (yearElem) {
        yearElem.textContent = new Date().getFullYear();
      }
    </script>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-analytics.js";
      // Konfigurasi Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyAiZ0zRC-j8VlSzbLtY1m_iuUM4mn-OYFU",
        authDomain: "story-app-7d59c.firebaseapp.com",
        projectId: "story-app-7d59c",
        storageBucket: "story-app-7d59c.firebasestorage.app",
        messagingSenderId: "1087902129026",
        appId: "1:1087902129026:web:f396cdbe1c4739cfd70d9b",
        measurementId: "G-H6H3YTQBHY"
      };
      // Inisialisasi Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>
  </body>
</html>